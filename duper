-- FIND ANY VISIBLE TEXTBOX
-- Shows ALL visible textboxes on screen right now

local Players = game:GetService("Players")
local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

print("\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ")
print("üîç FINDING ALL VISIBLE TEXTBOXES")
print("‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n")

local foundTextboxes = {}

for _, gui in pairs(playerGui:GetChildren()) do
    for _, obj in pairs(gui:GetDescendants()) do
        if obj:IsA("TextBox") then
            -- Check if it's actually visible on screen
            if obj.Visible and obj.Parent and obj.Parent.Visible then
                table.insert(foundTextboxes, {
                    gui = gui.Name,
                    path = obj:GetFullName(),
                    name = obj.Name,
                    placeholder = obj.PlaceholderText or "none",
                    text = obj.Text or "empty"
                })
            end
        end
    end
end

if #foundTextboxes > 0 then
    print("‚úÖ FOUND", #foundTextboxes, "VISIBLE TEXTBOX(ES):\n")
    
    for i, tb in ipairs(foundTextboxes) do
        print("‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ")
        print("üì¶ TEXTBOX #" .. i)
        print("‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ")
        print("Parent GUI:", tb.gui)
        print("Name:", tb.name)
        print("Full Path:", tb.path)
        print("Placeholder:", tb.placeholder)
        print("Current Text:", tb.text)
        print("")
    end
    
    print("‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ")
    print("üí° THE ONE WITH CHILLI IS YOUR TARGET!")
    print("‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n")
else
    print("‚ùå NO VISIBLE TEXTBOXES FOUND!")
    print("üí° Make sure:")
    print("   - Chilli Hub is open")
    print("   - Server Tools tab is selected")
    print("   - Job-ID Input field is visible")
    print("")
end

-- Also create a test function that pastes to the first visible textbox
_G.PasteToFirstTextbox = function(text)
    text = text or "test-job-12345"
    
    if #foundTextboxes > 0 then
        local firstBox = foundTextboxes[1]
        print("\nüì§ Attempting to paste to first textbox...")
        print("Target:", firstBox.path)
        
        -- Find the actual textbox object
        local success, obj = pcall(function()
            return game:GetService(table.unpack(string.split(firstBox.path, ".")))
        end)
        
        if not success then
            -- Try different method
            for _, gui in pairs(playerGui:GetChildren()) do
                for _, o in pairs(gui:GetDescendants()) do
                    if o:GetFullName() == firstBox.path then
                        o.Text = text
                        print("‚úÖ PASTED:", text)
                        return true
                    end
                end
            end
        end
    else
        print("‚ùå No textboxes found to paste into")
    end
    
    return false
end

print("‚úÖ Diagnostic complete!")
print("\nüìã MANUAL COMMAND:")
print("   _G.PasteToFirstTextbox('your-job-id')")
print("")
