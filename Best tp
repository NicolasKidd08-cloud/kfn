-- â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—     â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— 
-- â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—
-- â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—   â•šâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
-- â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•   â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—
-- â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
-- â•šâ•â•  â•šâ•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•    â•šâ•â•  â•šâ•â• â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â• 
--
-- NEXA HUB | Steal a Brainrot
-- Inspired by 22S Hub Design
-- Made by Nicolas from Nexa DC

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local Workspace = game:GetService("Workspace")
local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")

warn("ğŸ’œ NEXA HUB - LOADING...")

-- Config
local Config = {
    -- Features
    NoClip = false,
    FastWalk = false,
    InstaStealing = false,
    
    -- Saved
    SavedPosition = nil,
    
    -- Speed
    WalkSpeed = 16,
}

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- NOCLIP SYSTEM
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local NoClipConnection

local function ToggleNoClip(enabled)
    if NoClipConnection then
        NoClipConnection:Disconnect()
        NoClipConnection = nil
    end
    
    if enabled then
        NoClipConnection = RunService.Stepped:Connect(function()
            if LocalPlayer.Character then
                for _, part in pairs(LocalPlayer.Character:GetDescendants()) do
                    if part:IsA("BasePart") then
                        part.CanCollide = false
                    end
                end
            end
        end)
    else
        if LocalPlayer.Character then
            for _, part in pairs(LocalPlayer.Character:GetDescendants()) do
                if part:IsA("BasePart") then
                    part.CanCollide = true
                end
            end
        end
    end
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- FAST WALK SYSTEM
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local WalkConnection

local function ToggleFastWalk(enabled)
    if WalkConnection then
        WalkConnection:Disconnect()
        WalkConnection = nil
    end
    
    if enabled then
        WalkConnection = RunService.Heartbeat:Connect(function()
            if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
                LocalPlayer.Character.Humanoid.WalkSpeed = Config.WalkSpeed
            end
        end)
    else
        if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
            LocalPlayer.Character.Humanoid.WalkSpeed = 16
        end
    end
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- TELEPORT SYSTEM + ESP
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local SavedPosESP = nil

local function CreateSavedPosESP()
    if SavedPosESP then
        SavedPosESP:Destroy()
    end
    
    if not Config.SavedPosition then return end
    
    -- Create part at saved position
    local part = Instance.new("Part")
    part.Size = Vector3.new(4, 0.5, 4)
    part.Position = Config.SavedPosition.Position
    part.Anchored = true
    part.CanCollide = false
    part.Transparency = 0.5
    part.Color = Color3.fromRGB(147, 51, 234)
    part.Material = Enum.Material.Neon
    part.Parent = Workspace
    
    local billboard = Instance.new("BillboardGui")
    billboard.Size = UDim2.new(0, 100, 0, 50)
    billboard.Adornee = part
    billboard.AlwaysOnTop = true
    billboard.Parent = part
    
    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(1, 0, 1, 0)
    label.BackgroundTransparency = 1
    label.Text = "ğŸ’¾ SAVED"
    label.TextColor3 = Color3.fromRGB(255, 255, 255)
    label.Font = Enum.Font.GothamBold
    label.TextSize = 16
    label.TextStrokeTransparency = 0.5
    label.Parent = billboard
    
    -- Pulse animation
    local pulse = TweenService:Create(
        part,
        TweenInfo.new(1, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, -1, true),
        {Transparency = 0.8, Size = Vector3.new(5, 0.5, 5)}
    )
    pulse:Play()
    
    SavedPosESP = part
end

local function SavePosition()
    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        Config.SavedPosition = LocalPlayer.Character.HumanoidRootPart.CFrame
        CreateSavedPosESP()
        warn("âœ… Position saved!")
        return true
    end
    return false
end

local function TeleportToSaved()
    if Config.SavedPosition and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        LocalPlayer.Character.HumanoidRootPart.CFrame = Config.SavedPosition
        warn("âš¡ Teleported to saved position!")
        return true
    end
    warn("âŒ No position saved!")
    return false
end

local function TeleportForward(distance)
    distance = distance or 10
    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        local hrp = LocalPlayer.Character.HumanoidRootPart
        hrp.CFrame = hrp.CFrame + hrp.CFrame.LookVector * distance
    end
end

local function TeleportToBase()
    -- Find base
    local base = nil
    for _, obj in pairs(Workspace:GetDescendants()) do
        if obj:IsA("BasePart") then
            local name = obj.Name:lower()
            if name:find("base") or name:find("safe") or name:find("spawn") then
                base = obj
                break
            end
        end
    end
    
    if base and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        LocalPlayer.Character.HumanoidRootPart.CFrame = base.CFrame + Vector3.new(0, 5, 0)
        warn("ğŸ  Teleported to base!")
    else
        warn("âŒ Base not found!")
    end
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- INSTA STEAL SYSTEM
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local StealingConnection

local function ToggleInstaStealing(enabled)
    if StealingConnection then
        StealingConnection:Disconnect()
        StealingConnection = nil
    end
    
    if enabled then
        StealingConnection = RunService.Heartbeat:Connect(function()
            if not Config.SavedPosition then return end
            if not LocalPlayer.Character or not LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then return end
            
            -- Check if player is near brainrot
            local hrp = LocalPlayer.Character.HumanoidRootPart
            local nearBrainrot = false
            
            for _, obj in pairs(Workspace:GetDescendants()) do
                if obj:IsA("BasePart") or obj:IsA("Model") then
                    local name = obj.Name:lower()
                    if name:find("brainrot") or name:find("collect") then
                        local pos = obj:IsA("BasePart") and obj.Position or (obj.PrimaryPart and obj.PrimaryPart.Position)
                        if pos and (hrp.Position - pos).Magnitude < 10 then
                            nearBrainrot = true
                            break
                        end
                    end
                end
            end
            
            -- If stealing (near brainrot), TP to saved position and back
            if nearBrainrot then
                local currentPos = hrp.CFrame
                hrp.CFrame = Config.SavedPosition
                task.wait(0.1)
                hrp.CFrame = currentPos
            end
        end)
    end
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- UI - 22S HUB STYLE
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local UI = Instance.new("ScreenGui")
UI.Name = "NexaHub"
UI.ResetOnSpawn = false
UI.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
UI.Parent = PlayerGui

-- Main window
local Main = Instance.new("Frame")
Main.Name = "Main"
Main.Size = UDim2.new(0, 450, 0, 320)
Main.Position = UDim2.new(0.5, -225, 0.5, -160)
Main.BackgroundColor3 = Color3.fromRGB(15, 12, 20)
Main.BorderSizePixel = 0
Main.ClipsDescendants = true
Main.Parent = UI

Instance.new("UICorner", Main).CornerRadius = UDim.new(0, 20)

-- Outer glow
local glow = Instance.new("ImageLabel")
glow.Size = UDim2.new(1, 80, 1, 80)
glow.Position = UDim2.new(0, -40, 0, -40)
glow.BackgroundTransparency = 1
glow.Image = "rbxassetid://1316045217"
glow.ImageColor3 = Color3.fromRGB(0, 0, 0)
glow.ImageTransparency = 0.3
glow.ScaleType = Enum.ScaleType.Slice
glow.SliceCenter = Rect.new(10, 10, 118, 118)
glow.ZIndex = 0
glow.Parent = Main

-- ANIMATED STAR BACKGROUND
local StarContainer = Instance.new("Frame")
StarContainer.Size = UDim2.new(1, 0, 1, 0)
StarContainer.BackgroundTransparency = 1
StarContainer.ClipsDescendants = true
StarContainer.ZIndex = 1
StarContainer.Parent = Main

-- Create moving stars
for i = 1, 30 do
    local star = Instance.new("Frame")
    star.Size = UDim2.new(0, math.random(2, 4), 0, math.random(2, 4))
    star.Position = UDim2.new(math.random(), 0, math.random(), 0)
    star.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    star.BackgroundTransparency = math.random(30, 80) / 100
    star.BorderSizePixel = 0
    star.ZIndex = 2
    star.Parent = StarContainer
    
    Instance.new("UICorner", star).CornerRadius = UDim.new(1, 0)
    
    -- Animate stars moving
    task.spawn(function()
        while task.wait(math.random(2, 5)) do
            local newPos = UDim2.new(math.random(), 0, math.random(), 0)
            TweenService:Create(star, TweenInfo.new(math.random(3, 6), Enum.EasingStyle.Linear), {
                Position = newPos
            }):Play()
        end
    end)
    
    -- Twinkle effect
    task.spawn(function()
        while task.wait(math.random(1, 3)) do
            TweenService:Create(star, TweenInfo.new(0.5, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, -1, true), {
                BackgroundTransparency = math.random(20, 90) / 100
            }):Play()
        end
    end)
end

-- Header
local Header = Instance.new("Frame")
Header.Size = UDim2.new(1, 0, 0, 60)
Header.BackgroundColor3 = Color3.fromRGB(20, 16, 28)
Header.BorderSizePixel = 0
Header.ZIndex = 3
Header.Parent = Main

Instance.new("UICorner", Header).CornerRadius = UDim.new(0, 20)

local HeaderFix = Instance.new("Frame")
HeaderFix.Size = UDim2.new(1, 0, 0, 30)
HeaderFix.Position = UDim2.new(0, 0, 1, -30)
HeaderFix.BackgroundColor3 = Color3.fromRGB(20, 16, 28)
HeaderFix.BorderSizePixel = 0
HeaderFix.ZIndex = 3
HeaderFix.Parent = Header

-- Title
local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(0, 200, 0, 40)
Title.Position = UDim2.new(0, 20, 0, 10)
Title.BackgroundTransparency = 1
Title.Text = "NEXA HUB"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 24
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.ZIndex = 4
Title.Parent = Header

-- Subtitle (Discord)
local Subtitle = Instance.new("TextLabel")
Subtitle.Size = UDim2.new(0, 200, 0, 20)
Subtitle.Position = UDim2.new(0, 22, 0, 38)
Subtitle.BackgroundTransparency = 1
Subtitle.Text = "discord.gg/nexa"
Subtitle.TextColor3 = Color3.fromRGB(147, 51, 234)
Subtitle.Font = Enum.Font.Gotham
Subtitle.TextSize = 11
Subtitle.TextXAlignment = Enum.TextXAlignment.Left
Subtitle.ZIndex = 4
Subtitle.Parent = Header

-- SPINNING LOADING CIRCLE (top right)
local LoadingCircle = Instance.new("ImageLabel")
LoadingCircle.Size = UDim2.new(0, 28, 0, 28)
LoadingCircle.Position = UDim2.new(1, -40, 0, 16)
LoadingCircle.BackgroundTransparency = 1
LoadingCircle.Image = "rbxassetid://106296997072072" -- Loading circle
LoadingCircle.ImageColor3 = Color3.fromRGB(147, 51, 234)
LoadingCircle.ZIndex = 4
LoadingCircle.Parent = Header

-- Spin animation
TweenService:Create(LoadingCircle, TweenInfo.new(2, Enum.EasingStyle.Linear, Enum.EasingDirection.InOut, -1), {
    Rotation = 360
}):Play()

-- TAB SYSTEM
local TabContainer = Instance.new("Frame")
TabContainer.Size = UDim2.new(1, -30, 0, 40)
TabContainer.Position = UDim2.new(0, 15, 0, 70)
TabContainer.BackgroundTransparency = 1
TabContainer.ZIndex = 3
TabContainer.Parent = Main

local Tabs = {}
local ActiveTab = nil

local function CreateTab(name)
    local tabBtn = Instance.new("TextButton")
    tabBtn.Size = UDim2.new(0.33, -5, 1, 0)
    tabBtn.Position = UDim2.new(0.33 * (#Tabs), #Tabs > 0 and 7.5 or 0, 0, 0)
    tabBtn.BackgroundColor3 = Color3.fromRGB(30, 24, 40)
    tabBtn.BorderSizePixel = 0
    tabBtn.Text = name
    tabBtn.TextColor3 = Color3.fromRGB(150, 150, 160)
    tabBtn.Font = Enum.Font.GothamBold
    tabBtn.TextSize = 13
    tabBtn.ZIndex = 4
    tabBtn.Parent = TabContainer
    
    Instance.new("UICorner", tabBtn).CornerRadius = UDim.new(0, 10)
    
    local content = Instance.new("ScrollingFrame")
    content.Name = name
    content.Size = UDim2.new(1, -30, 1, -130)
    content.Position = UDim2.new(0, 15, 0, 120)
    content.BackgroundTransparency = 1
    content.BorderSizePixel = 0
    content.ScrollBarThickness = 4
    content.ScrollBarImageColor3 = Color3.fromRGB(147, 51, 234)
    content.CanvasSize = UDim2.new(0, 0, 0, 0)
    content.Visible = false
    content.ZIndex = 3
    content.Parent = Main
    
    local layout = Instance.new("UIListLayout")
    layout.Padding = UDim.new(0, 8)
    layout.Parent = content
    
    layout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
        content.CanvasSize = UDim2.new(0, 0, 0, layout.AbsoluteContentSize.Y + 10)
    end)
    
    Tabs[name] = {
        Button = tabBtn,
        Content = content
    }
    
    tabBtn.MouseButton1Click:Connect(function()
        for tabName, tab in pairs(Tabs) do
            tab.Content.Visible = false
            tab.Button.BackgroundColor3 = Color3.fromRGB(30, 24, 40)
            tab.Button.TextColor3 = Color3.fromRGB(150, 150, 160)
        end
        
        content.Visible = true
        tabBtn.BackgroundColor3 = Color3.fromRGB(147, 51, 234)
        tabBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
        ActiveTab = name
    end)
    
    return content
end

-- Create tabs
local MainTab = CreateTab("MAIN")
local FeaturesTab = CreateTab("FEATURES")
local SellTab = CreateTab("SELL")

-- Activate first tab
Tabs["MAIN"].Button.MouseButton1Click:Invoke()

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- UI COMPONENTS
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local function CreateButton(parent, text, emoji, callback)
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1, 0, 0, 50)
    btn.BackgroundColor3 = Color3.fromRGB(30, 24, 42)
    btn.BorderSizePixel = 0
    btn.Text = ""
    btn.ZIndex = 4
    btn.Parent = parent
    
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 12)
    
    local stroke = Instance.new("UIStroke")
    stroke.Color = Color3.fromRGB(147, 51, 234)
    stroke.Thickness = 0
    stroke.Transparency = 1
    stroke.Parent = btn
    
    local emojiLabel = Instance.new("TextLabel")
    emojiLabel.Size = UDim2.new(0, 30, 0, 30)
    emojiLabel.Position = UDim2.new(0, 15, 0.5, -15)
    emojiLabel.BackgroundTransparency = 1
    emojiLabel.Text = emoji
    emojiLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    emojiLabel.Font = Enum.Font.GothamBold
    emojiLabel.TextSize = 20
    emojiLabel.ZIndex = 5
    emojiLabel.Parent = btn
    
    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(1, -60, 1, 0)
    label.Position = UDim2.new(0, 50, 0, 0)
    label.BackgroundTransparency = 1
    label.Text = text
    label.TextColor3 = Color3.fromRGB(255, 255, 255)
    label.Font = Enum.Font.GothamBold
    label.TextSize = 14
    label.TextXAlignment = Enum.TextXAlignment.Left
    label.ZIndex = 5
    label.Parent = btn
    
    btn.MouseButton1Click:Connect(function()
        TweenService:Create(btn, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(147, 51, 234)}):Play()
        task.wait(0.1)
        TweenService:Create(btn, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(30, 24, 42)}):Play()
        callback()
    end)
    
    btn.MouseEnter:Connect(function()
        TweenService:Create(stroke, TweenInfo.new(0.2), {Thickness = 2, Transparency = 0.4}):Play()
    end)
    
    btn.MouseLeave:Connect(function()
        TweenService:Create(stroke, TweenInfo.new(0.2), {Thickness = 0, Transparency = 1}):Play()
    end)
    
    return btn
end

local function CreateToggle(parent, text, emoji, default, callback)
    local frame = Instance.new("Frame")
    frame.Size = UDim2.new(1, 0, 0, 50)
    frame.BackgroundColor3 = Color3.fromRGB(30, 24, 42)
    frame.BorderSizePixel = 0
    frame.ZIndex = 4
    frame.Parent = parent
    
    Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 12)
    
    local emojiLabel = Instance.new("TextLabel")
    emojiLabel.Size = UDim2.new(0, 30, 0, 30)
    emojiLabel.Position = UDim2.new(0, 15, 0.5, -15)
    emojiLabel.BackgroundTransparency = 1
    emojiLabel.Text = emoji
    emojiLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    emojiLabel.Font = Enum.Font.GothamBold
    emojiLabel.TextSize = 20
    emojiLabel.ZIndex = 5
    emojiLabel.Parent = frame
    
    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(1, -120, 1, 0)
    label.Position = UDim2.new(0, 50, 0, 0)
    label.BackgroundTransparency = 1
    label.Text = text
    label.TextColor3 = Color3.fromRGB(255, 255, 255)
    label.Font = Enum.Font.GothamBold
    label.TextSize = 14
    label.TextXAlignment = Enum.TextXAlignment.Left
    label.ZIndex = 5
    label.Parent = frame
    
    local toggle = Instance.new("TextButton")
    toggle.Size = UDim2.new(0, 50, 0, 28)
    toggle.Position = UDim2.new(1, -60, 0.5, -14)
    toggle.BackgroundColor3 = default and Color3.fromRGB(147, 51, 234) or Color3.fromRGB(50, 45, 60)
    toggle.Text = ""
    toggle.ZIndex = 5
    toggle.Parent = frame
    
    Instance.new("UICorner", toggle).CornerRadius = UDim.new(1, 0)
    
    local indicator = Instance.new("Frame")
    indicator.Size = UDim2.new(0, 22, 0, 22)
    indicator.Position = default and UDim2.new(1, -25, 0.5, -11) or UDim2.new(0, 3, 0.5, -11)
    indicator.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    indicator.BorderSizePixel = 0
    indicator.ZIndex = 6
    indicator.Parent = toggle
    
    Instance.new("UICorner", indicator).CornerRadius = UDim.new(1, 0)
    
    local enabled = default
    
    toggle.MouseButton1Click:Connect(function()
        enabled = not enabled
        callback(enabled)
        
        local tween = TweenInfo.new(0.25, Enum.EasingStyle.Quint, Enum.EasingDirection.Out)
        
        TweenService:Create(toggle, tween, {
            BackgroundColor3 = enabled and Color3.fromRGB(147, 51, 234) or Color3.fromRGB(50, 45, 60)
        }):Play()
        
        TweenService:Create(indicator, tween, {
            Position = enabled and UDim2.new(1, -25, 0.5, -11) or UDim2.new(0, 3, 0.5, -11)
        }):Play()
    end)
    
    return frame
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- POPULATE TABS
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

-- Info label (like "NOCLIP + FAST WALK" in 22S Hub)
local function CreateInfoLabel(parent, text, emoji)
    local frame = Instance.new("Frame")
    frame.Size = UDim2.new(1, 0, 0, 35)
    frame.BackgroundTransparency = 1
    frame.ZIndex = 4
    frame.Parent = parent
    
    local emojiLabel = Instance.new("TextLabel")
    emojiLabel.Size = UDim2.new(0, 25, 0, 25)
    emojiLabel.Position = UDim2.new(0, 5, 0.5, -12.5)
    emojiLabel.BackgroundTransparency = 1
    emojiLabel.Text = emoji
    emojiLabel.TextColor3 = Color3.fromRGB(255, 200, 100)
    emojiLabel.Font = Enum.Font.GothamBold
    emojiLabel.TextSize = 16
    emojiLabel.ZIndex = 5
    emojiLabel.Parent = frame
    
    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(1, -35, 1, 0)
    label.Position = UDim2.new(0, 35, 0, 0)
    label.BackgroundTransparency = 1
    label.Text = text
    label.TextColor3 = Color3.fromRGB(200, 200, 200)
    label.Font = Enum.Font.Gotham
    label.TextSize = 12
    label.TextXAlignment = Enum.TextXAlignment.Left
    label.ZIndex = 5
    label.Parent = frame
    
    return frame
end

-- MAIN TAB
CreateInfoLabel(MainTab, "NOCLIP + FAST WALK", "âœ¨")
CreateToggle(MainTab, "NOCLIP + FAST WALK", "âœ¨", false, function(enabled)
    Config.NoClip = enabled
    Config.FastWalk = enabled
    ToggleNoClip(enabled)
    ToggleFastWalk(enabled)
end)

CreateButton(MainTab, "TELEPORT TO BASE", "ğŸ ", function()
    TeleportToBase()
end)

-- FEATURES TAB
CreateButton(FeaturesTab, "SAVE POSITION", "ğŸ’¾", function()
    SavePosition()
end)

CreateButton(FeaturesTab, "NOCLIP TO SAVED", "âš¡", function()
    if not Config.SavedPosition then
        warn("âŒ No position saved!")
        return
    end
    
    -- Enable noclip
    ToggleNoClip(true)
    
    -- Fast movement to saved position
    task.spawn(function()
        local char = LocalPlayer.Character
        if char and char:FindFirstChild("HumanoidRootPart") then
            local hrp = char.HumanoidRootPart
            local targetPos = Config.SavedPosition.Position
            
            -- Fast noclip movement (10 studs per frame)
            while (hrp.Position - targetPos).Magnitude > 5 do
                local direction = (targetPos - hrp.Position).Unit
                hrp.CFrame = hrp.CFrame + (direction * 10)
                task.wait()
            end
            
            -- Snap to exact position
            hrp.CFrame = Config.SavedPosition
            
            -- Disable noclip after reaching
            task.wait(0.5)
            ToggleNoClip(false)
        end
    end)
end)

CreateButton(FeaturesTab, "TP TO SAVED", "ğŸ“", function()
    TeleportToSaved()
end)

CreateButton(FeaturesTab, "CLEAR SAVED POSITION", "ğŸ—‘ï¸", function()
    Config.SavedPosition = nil
    if SavedPosESP then
        SavedPosESP:Destroy()
        SavedPosESP = nil
    end
    warn("ğŸ—‘ï¸ Saved position cleared!")
end)

CreateButton(FeaturesTab, "TP FORWARD", "â¡ï¸", function()
    TeleportForward(10)
end)

CreateInfoLabel(FeaturesTab, "INSTA STEAL - Auto TP to saved & back when stealing", "âš¡")

CreateToggle(FeaturesTab, "INSTA STEAL", "âš¡", false, function(enabled)
    Config.InstaStealing = enabled
    ToggleInstaStealing(enabled)
end)

-- SELL TAB
CreateButton(SellTab, "TELEPORT TO SELL", "ğŸ’°", function()
    TeleportToBase()
end)

CreateButton(SellTab, "AUTO SELL (COMING SOON)", "ğŸ”„", function()
    warn("â³ Feature coming soon!")
end)

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- DRAGGING
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local dragging, dragInput, dragStart, startPos

Header.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = Main.Position
        
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
        local delta = input.Position - dragStart
        Main.Position = UDim2.new(
            startPos.X.Scale,
            startPos.X.Offset + delta.X,
            startPos.Y.Scale,
            startPos.Y.Offset + delta.Y
        )
    end
end)

-- Toggle UI
UserInputService.InputBegan:Connect(function(input, gp)
    if not gp and input.KeyCode == Enum.KeyCode.RightShift then
        Main.Visible = not Main.Visible
    end
end)

-- Intro animation
Main.GroupTransparency = 1
Main.Position = Main.Position - UDim2.new(0, 0, 0, 30)

task.wait(0.3)

TweenService:Create(Main, TweenInfo.new(0.5, Enum.EasingStyle.Quint, Enum.EasingDirection.Out), {
    GroupTransparency = 0,
    Position = Main.Position + UDim2.new(0, 0, 0, 30)
}):Play()

warn("âœ… NEXA HUB LOADED!")
warn("ğŸ’œ Press RIGHT SHIFT to toggle")
warn("ğŸ’œ Tabs: MAIN | FEATURES | SELL")
