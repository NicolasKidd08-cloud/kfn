-- Define your base coordinates here
local basePosition = Vector3.new(1234, 56, 789) -- Replace with your actual base coordinates

-- Function to teleport the player
local function teleportToBase()
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

    -- Teleport to the base
    humanoidRootPart.CFrame = CFrame.new(basePosition)
end

-- Function to enable/disable noclip
local function toggleNoclip()
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoid = character:WaitForChild("Humanoid")

    if not isNoclipEnabled then
        humanoid.PlatformStand = true
    else
        humanoid.PlatformStand = false
    end
end

-- Variables to track noclip and teleport states
local isNoclipEnabled = false
local isTeleportEnabled = false

-- Get the UI elements
local function getUiElements()
    local screenGui = game.Players.LocalPlayer:FindFirstChildOfClass("PlayerGui"):FindFirstChild("NexaTestCheats")
    if not screenGui then
        warn("NexaTestCheats ScreenGui not found!")
        return
    end

    local mainFrame = screenGui:FindFirstChild("MainFrame")
    if not mainFrame then
        warn("MainFrame not found!")
        return
    end

    local noclipButton = mainFrame:FindFirstChild("NoclipButton")
    local teleportButton = mainFrame:FindFirstChild("TeleportButton")

    return noclipButton, teleportButton
end

-- Connect buttons to functions
local noclipButton, teleportButton = getUiElements()
if noclipButton and teleportButton then
    noclipButton.MouseButton1Click:Connect(function()
        isNoclipEnabled = not isNoclipEnabled
        noclipButton.Text = isNoclipEnabled and "Noclip: ON" or "Noclip: OFF"
        toggleNoclip()
    end)

    teleportButton.MouseButton1Click:Connect(function()
        isTeleportEnabled = not isTeleportEnabled
        teleportButton.Text = isTeleportEnabled and "Teleport: ON" or "Teleport: OFF"
        if isTeleportEnabled then
            teleportToBase()
        end
    end)
else
    warn("UI elements not found!")
end

-- Connect to the event when a Brainrot is stolen
local function onBrainrotStolen()
    if isTeleportEnabled then
        teleportToBase()
    end
end

-- Wait for the ReplicatedStorage and the event
local replicatedStorage = game:WaitForChild("ReplicatedStorage")
local brainrotStolenEvent = replicatedStorage:WaitForChild("BrainrotStolen", 5) -- Wait for 5 seconds
if brainrotStolenEvent then
    brainrotStolenEvent.OnClientEvent:Connect(onBrainrotStolen)
else
    warn("BrainrotStolen event not found in ReplicatedStorage!")
end
